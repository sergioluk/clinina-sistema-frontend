<div class="cadastro__container">
  <div class="flex">
    <div class="menu">
      <fa-icon [icon]="getIcone('fa-bars')"></fa-icon>
    </div>
    <h1 class="titulo">{{titulo.toUpperCase()}} PRODUTO</h1>
  </div>
  <hr>
  <div class="container">
    <form [formGroup]="formulario" class="formulario">
      <app-input [ngStyle]="estilos()" type="text" for="codigoDeBarras" label="Código de barras *" placeholder="Aponte para o o código de barras" formControlName="codigoDeBarras" (change)="verificarCodigoDeBarras()"></app-input>
      <app-input [ngStyle]="estilos()" type="text" for="nome" label="Nome do produto *" placeholder="Digite o nome" formControlName="produto"></app-input>
      <!-- Criar janelas para criar Categoria, Sabor e etc e testar se está criando mesmo -->
      <!-- Criar tela do estoque para usar o editar produto até sexta -->
      <div class="input grow2" [formGroup]="formularioSecundario">
        <div class="flex-input">
          <label>Imagens *</label>
          <app-mini-botao class="mini-botao" icone="fa-plus" cor="var(--corVerde)" (click)="adicionarImagem()"></app-mini-botao>
        </div>
        <div class="flex-input" *ngFor="let imagem of imagensFormArray.controls; index as i">
          <input type="text" id="imagemP{{i}}" placeholder="Digite a url da imagem" [formControl]="getImagensByIndex(i)" (keyup)="populandoListaDeImagens(i)" (change)="populandoListaDeImagens(i)">
          <app-mini-botao class="mini-botao" icone="fa-xmark" cor="var(--corVermelho)" (click)="removerImagem(i)"></app-mini-botao>
        </div>
      </div>

      <div class="form_flex">
        <app-input [ngStyle]="estilos()" type="number" for="precoCompra" label="Preço compra" placeholder="R$" formControlName="precoCompra" (change)="atualizar()"></app-input>
        <app-input [ngStyle]="estilos()" type="number" for="precoVenda" label="Preço venda *" placeholder="R$" formControlName="preco" (change)="atualizarLucro()"></app-input>
        <app-input [ngStyle]="estilos()" type="number" for="lucro" label="Lucro" placeholder="%" formControlName="lucro" (change)="atualizarVenda()"></app-input>
      </div>
      <div>
        <app-input [ngStyle]="estilos()" type="number" for="estoque" label="Estoque *" placeholder="R$" formControlName="estoque"></app-input>
      </div>
      <div class="form_flex">
        <app-input [ngStyle]="estilos()" type="date" for="dataFabricacao" label="Data de fabricação" placeholder="" formControlName="dataFabricacao"></app-input>
        <app-input [ngStyle]="estilos()" type="date" for="dataVencimento" label="Data de Vencimento" placeholder="" formControlName="dataVencimento"></app-input>
      </div>
      <!-- <div class="form_flex">
        <app-select [ngStyle]="estilos()" [lista]="listaDeCategoria" for="categoria" label="Categoria" formControlName="categoria" [isEditar]="true" (acao)="toggleEditarCategoria()"></app-select>
        <app-select [ngStyle]="estilos()" [lista]="listaDeSabor" for="sabor" label="Sabor" formControlName="sabor" [isEditar]="true" (acao)="toggleEditarSabor()"></app-select>
      </div>
      <div class="form_flex">
        <app-select [ngStyle]="estilos()" [lista]="listaDeIdade" for="idade" label="Idade" formControlName="idade" [isEditar]="true" (acao)="toggleEditarIdade()"></app-select>
        <div class="unidadeFlex">
          <app-input [ngStyle]="estilos()" type="number" for="peso" label="Peso" placeholder="Peso" formControlName="peso"></app-input>
          <div [formGroup]="formularioSecundario" class="unidade">
            <app-select [ngStyle]="estilos()" [lista]="listaDeUnidades" for="unidade" label="" formControlName="unidadeNovaForm"></app-select>
          </div>
        </div>
      </div>
      <div class="form_flex">
        <app-select [ngStyle]="estilos()" [lista]="listaDeFornecedor" for="fornecedor" label="Fornecedor" formControlName="fornecedor" [isEditar]="true" (acao)="toggleEditarFornecedor()"></app-select>
        <app-input [ngStyle]="estilos()" type="number" for="desconto" label="Desconto" placeholder="Desconto" formControlName="desconto"></app-input>
      </div> -->
      <!--Castrado-->
      <!-- <div class="form_flex">
        <h3 class="bold tamanho">Castrado</h3>
        <input type="radio" id="castrado" [value]=1 formControlName="castrado">
        <label for="castrado">Sim</label>
        <input type="radio" id="naoCastrado" [value]=0 formControlName="castrado">
        <label for="naoCastrado">Não</label>
      </div>
      <hr> -->
      <!--Animal-->
      <!-- <div class="form_flex">
        <h3  class="bold tamanho">Animal</h3>
        <input type="radio" id="cachorro" value="Cachorro" formControlName="animal">
        <label for="cachorro">Cachorro</label>

        <input type="radio" id="gato" value="Gato" formControlName="animal">
        <label for="gato">Gato</label>

        <input type="radio" id="passaro" value="Pássaro" formControlName="animal">
        <label for="passaro">Pássaro</label>
      </div>
      <div class="form_flex">
        <div class="tamanho"> </div>
        <input type="radio" id="todos" value="Todos" formControlName="animal">
        <label for="todos">Todos</label>

        <input type="radio" id="nenhum" value="Nenhum" formControlName="animal">
        <label for="nenhum">Nenhum</label>
      </div>
      <hr> -->
      <!--Porte-->
      <!-- <div class="form_flex">
        <h3 class="bold tamanho">Porte</h3>
        <div class="form_flex" formArrayName="porte" *ngFor="let item of getPorteControls(); let i = index">
          <input id="{{ i }}" type="checkbox" [formControlName]="i">
          <label for="{{ i }}">{{ porte[i] }}</label>
        </div>
      </div>
      <hr>
      <div class="input grow2" [formGroup]="formularioSecundario">
        <div class="flex-input">
          <label>Informações</label>
          <app-mini-botao class="mini-botao" icone="fa-plus" cor="var(--corVerde)" (click)="adicionarInformacao()"></app-mini-botao>
        </div>
        <div class="flex-input" *ngFor="let imagem of informacoesFormArray.controls; index as i">
          <input type="text" id="info{{i}}" placeholder="Digite as informações" [formControl]="getInformacoesByIndex(i)" (keyup)="populandoListaDeInformacao(i)" (change)="populandoListaDeImagens(i)">
          <app-mini-botao class="mini-botao" icone="fa-xmark" cor="var(--corVermelho)" (click)="removerInformacao(i)"></app-mini-botao>
        </div>
      </div> -->

    </form>
    <div class="cadastro__visualizacao">
      <div class="imagem--e--botaoacao flex-column">
        <!-- <app-container-image imagem="../../../assets/img/3.png"></app-container-image> -->
        <app-container-image imagem="{{ formulario.get('imagemP')?.value }}"></app-container-image>
        <div class="imagens"></div>
        <div class="botoes-conteiner flex-column">
          <app-botao-pequeno cor="var(--corVerde)" icone="fa-floppy-disk" texto="{{ titulo }}" (click)="cadastrarProduto()"></app-botao-pequeno>
          <app-botao-pequeno cor="var(--corVermelho)" icone="fa-circle-xmark" texto="Cancelar" (click)="cancelar()"></app-botao-pequeno>
        </div>
      </div>
      <div class="informacoes">
        <app-info titulo="Código de barras" valor="{{ formulario.get('codigoDeBarras')?.value }}"></app-info>
        <app-info titulo="Nome do produto" valor="{{ formulario.get('produto')?.value }}"></app-info>
        <div class="info_flex">
          <app-info class="grow" titulo="Preço de compra" valor="R$ {{ formulario.get('precoCompra')?.value }}"></app-info>
          <app-info class="grow" titulo="Preço de venda" valor="R$ {{ formulario.get('preco')?.value }}"></app-info>
          <app-info class="grow" titulo="Lucro" valor="{{ formulario.get('lucro')?.value }}%"></app-info>
        </div>
        <div class="info_flex">
          <app-info class="grow" titulo="Estoque" valor="{{ formulario.get('estoque')?.value }}"></app-info>
          <app-info class="grow" titulo="Categoria" valor="{{ formulario.get('categoria')?.value }}"></app-info>
          <app-info class="grow" titulo="Sabor" valor="{{ formulario.get('sabor')?.value }}"></app-info>
        </div>
        <div class="info_flex">
          <app-info class="grow" titulo="Idade" valor="{{ formulario.get('idade')?.value }}"></app-info>
          <app-info class="grow" titulo="Peso" valor="{{ formulario.get('peso')?.value }}{{ formularioSecundario.get('unidadeNovaForm')?.value }}"></app-info>
          <app-info class="grow" titulo="Fornecedor" valor="{{ formulario.get('fornecedor')?.value }}"></app-info>
        </div>
        <div class="info_flex">
          <app-info class="grow" titulo="Desconto" valor="{{ formulario.get('desconto')?.value }}"></app-info>
          <app-info class="grow" titulo="Castrado" valor="{{ formulario.get('castrado')?.value }}"></app-info>
          <app-info class="grow" titulo="Animal" valor="{{ formulario.get('animal')?.value }}"></app-info>
        </div>
        <app-info titulo="Porte" valor="{{ formulario.get('porte')?.value }}"></app-info>
        <!-- <app-info titulo="Informações" valor=""></app-info>
        <li *ngFor="let informacao of listaDeInformacao">{{ informacao }}</li> -->
      </div>
    </div>
  </div>

  <!-- janelaEditarCategoria -->
  <app-gerenciar-opcao *ngIf="janelaGerenciar" (toggleJanelaGerenciar)="fecharJanelaGerenciar()" tipo="{{tipo}}" [lista]="lista"></app-gerenciar-opcao>

</div>


